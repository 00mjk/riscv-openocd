#TI OMAP5912 dual core processor - http://www.ti.com 
#on a OMAP5912 OSK board http://www.spectrumdigital.com.

#use combined on interfaces or targets that can't set TRST/SRST separately
reset_config trst_and_srst

#jtag scan chain
#format L IRC IRCM IDCODE (Length, IR Capture, IR Capture Mask, IDCODE)
jtag_device 38 0x0 0x0 0x0
jtag_device 4  0x1 0x0 0xe
jtag_device 8  0x0 0x0 0x0

target create target0 arm926ejs -endian little -chain-position 1 -variant arm926ejs
[new_target_name] configure -event reset-init {
	#
	# halt target
	#
	poll
	sleep 1
	halt
	wait_halt
	#
	# disable wdt
	#
	mww 0xfffec808 0x000000f5
	mww 0xfffec808 0x000000a0

	mww 0xfffeb048 0x0000aaaa
	sleep 500
	mww 0xfffeb048 0x00005555
	sleep 500
	#
	# detect flash
	#
	flash probe 0
}

# omap5912 lcd frame buffer as working area
[new_target_name] configure -work-area-virt 0 -work-area-phys 0x20000000 -work-area-size 0x3e800 -work-area-backup 0

#flash bank <driver> <base> <size> <chip_width> <bus_width>
flash bank cfi 0x00000000 0x1000000 2 2 0
